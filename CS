def read_rules_file(self, rules_df):
    common_rules = []
    company_rules = {}
    rule_descriptions = {}  # Added for rule descriptions
    rule_numbers = {}  # Added for rule numbers

    for i, row in rules_df.iterrows():
        rule_string = row['rule']
        rule_description = row['description']
        rule_no = row['Rule_No']
        company_id = row['Company_ID']

        rule = eval(f"lambda T5, Invoice: {rule_string}")

        if company_id:
            # Company-specific rule
            if company_id not in company_rules:
                company_rules[company_id] = []

            company_rules[company_id].append(rule)
        else:
            # Common rule
            common_rules.append(rule)

        # Store rule descriptions and numbers
        rule_descriptions[i + 1] = rule_description
        rule_numbers[i + 1] = rule_no

    return common_rules, company_rules, rule_descriptions, rule_numbers
